@tailwind base;
@tailwind components;
@tailwind utilities;

/* Theme Variables */
:root {
  --theme-primary: #ff4d85;
  --theme-secondary: #ffe8ed;
  --theme-accent: #ff4da6;
}

/* Each theme applies its own background directly */
.theme-blush {
  --theme-primary: #ff4d85;
  --theme-secondary: #ffe8ed;
  --theme-accent: #ff4da6;
  background: linear-gradient(135deg, #fff5f7 0%, #ffe8ed 50%, #ffd6e0 100%) !important;
}

.theme-lavender {
  --theme-primary: #9b6dff;
  --theme-secondary: #e6d5ff;
  --theme-accent: #b794f6;
  background: linear-gradient(135deg, #f3e8ff 0%, #e6d5ff 50%, #dcc8ff 100%) !important;
}

.theme-night {
  --theme-primary: #ff6b9d;
  --theme-secondary: #1a1a2e;
  --theme-accent: #ff4da6;
  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%) !important;
}

/* Night theme - only change text colors for elements OUTSIDE the card */
.theme-night>.text-blush-500,
.theme-night>header .text-gray-700,
.theme-night>header .text-gray-800 {
  color: #e0e0e0 !important;
}

.theme-night .bg-white {
  background-color: #16213e !important;
}

/* Ensure card text is always dark and readable on white cards */
.theme-lavender .text-gray-800,
.theme-blush .text-gray-800,
.theme-sunset .text-gray-800 {
  color: #1f2937 !important;
}

.theme-sunset {
  --theme-primary: #ff6b6b;
  --theme-secondary: #ffecd2;
  --theme-accent: #ff8c42;
  background: linear-gradient(135deg, #fff5eb 0%, #ffecd2 50%, #ffdfb8 100%) !important;
}

/* Custom scrollbar for the app */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 77, 166, 0.1);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 77, 166, 0.4);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 77, 166, 0.6);
}

/* Prevent overscroll bounce on iOS */
html,
body {
  overscroll-behavior: none;
  -webkit-overflow-scrolling: touch;
}

/* Hearts background pattern */
.hearts-bg {
  background-image:
    radial-gradient(circle at 20% 80%, rgba(255, 77, 166, 0.05) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(230, 213, 255, 0.08) 0%, transparent 50%),
    radial-gradient(circle at 50% 50%, rgba(255, 107, 157, 0.03) 0%, transparent 70%);
  background-size: 100% 100%;
}

.hearts-pattern::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 15.35l-.725-.66C25.4 11.36 22 9.28 22 6.5 22 4.42 23.42 3 25.5 3c1.16 0 2.27.54 3 1.39.73-.85 1.84-1.39 3-1.39 2.08 0 3.5 1.42 3.5 3.5 0 2.78-3.4 4.86-7.275 8.19L30 15.35z' fill='%23ff4da6' fill-opacity='0.04'/%3E%3C/svg%3E");
  background-size: 60px 60px;
  z-index: 0;
}

/* Blush animation for HeartBuddy */
@keyframes blush-pulse {

  0%,
  100% {
    opacity: 0.4;
    transform: scale(1);
  }

  50% {
    opacity: 0.9;
    transform: scale(1.1);
  }
}

.blush-animate {
  animation: blush-pulse 0.6s ease-out;
}

/* Floating heart animation */
@keyframes float-up {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }

  100% {
    opacity: 0;
    transform: translateY(-60px) scale(0.5);
  }
}

.float-heart {
  animation: float-up 1s ease-out forwards;
}

/* Gentle shimmer for premium feel */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }

  100% {
    background-position: 200% 0;
  }
}

.shimmer {
  background: linear-gradient(90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.4) 50%,
      transparent 100%);
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

/* Legendary card shimmer */
.shimmer-legendary {
  background: linear-gradient(90deg,
      transparent 0%,
      rgba(255, 215, 0, 0.6) 25%,
      rgba(255, 255, 255, 0.8) 50%,
      rgba(255, 215, 0, 0.6) 75%,
      transparent 100%);
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

/* Rare card glow */
.glow-rare {
  box-shadow: 0 0 20px rgba(155, 109, 255, 0.4);
}

/* Legendary card glow */
.glow-legendary {
  box-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
}

/* Typewriter cursor */
.typewriter-cursor::after {
  content: '|';
  animation: blink-cursor 0.8s infinite;
}

@keyframes blink-cursor {

  0%,
  50% {
    opacity: 1;
  }

  51%,
  100% {
    opacity: 0;
  }
}

/* Button press effect */
.btn-press:active {
  transform: scale(0.96);
}

/* Safe area for iOS */
.safe-bottom {
  padding-bottom: max(env(safe-area-inset-bottom), 16px);
}

.safe-top {
  padding-top: max(env(safe-area-inset-top), 16px);
}

/* Sticker placed animation */
@keyframes sticker-place {
  0% {
    transform: scale(0) rotate(-30deg);
  }

  60% {
    transform: scale(1.3) rotate(10deg);
  }

  100% {
    transform: scale(1) rotate(0deg);
  }
}

.sticker-placed {
  animation: sticker-place 0.4s ease-out forwards;
}

/* Love meter fill animation */
@keyframes love-fill {
  0% {
    width: 0;
  }

  100% {
    width: var(--fill-percent);
  }
}

.love-meter-fill {
  animation: love-fill 1s ease-out forwards;
}

/* Heart squeeze on long press */
@keyframes squeeze {

  0%,
  100% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.85);
  }
}

.squeeze-animate {
  animation: squeeze 0.3s ease-in-out;
}

/* Heart pop on release */
@keyframes heart-pop {
  0% {
    transform: scale(0) translateY(0);
    opacity: 1;
  }

  50% {
    transform: scale(1.2) translateY(-10px);
  }

  100% {
    transform: scale(0.8) translateY(-30px);
    opacity: 0;
  }
}

.heart-pop {
  animation: heart-pop 0.6s ease-out forwards;
}